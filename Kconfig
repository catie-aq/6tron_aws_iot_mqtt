# 
# Copyright (c) 2023 Lucas Dietrich <ld.adecy@gmail.com>
#
# SPDX-License-Identifier: Apache-2.0
#

menu "ThingsBoard"
mainmenu "ThingsBoard IoT Core MQTT sample application"

config TB_ENDPOINT
	string "ThingsBoard endpoint"
	default ""
	help
	  Endpoint (hostname) of the ThingsBoard MQTT broker.

config TB_THING_NAME
	string "ThingsBoard Device name"
	default "myDeviceName"
	help
	  Set the ThingsBoard Device name created on ThingsBoard.

config TB_SUBSCRIBE_TOPIC
	string "MQTT subscribe topic"
	default "v1/devices/me/attributes"
	help
	  MQTT topic the client should subscribe to.

config TB_PUBLISH_TOPIC
	string "MQTT publish topic"
	default "v1/devices/me/telemetry"
	help
	  MQTT topic the client should publish to.

choice TB_TEST_SUITE
	prompt "Device Advisor test suite"
	default TB_TEST_SUITE_NONE
	help
	  Select the ThingsBoard Device Advisor test suite to run.

config TB_TEST_SUITE_NONE
	bool "No test suite running"

config TB_TEST_SUITE_DQP
	bool "Device Qualification Program (DQP)"
	help
	  Make sure your region supports ThingsBoard Device Advisor for DQP

config TB_TEST_SUITE_RECV_QOS1
	bool "Test suite for receiving QoS 1 messages"
	help
	  For single test case "MQTT Client Puack QoS1"

endchoice

config TB_QOS
	int "MQTT QoS"
	default 0 if TB_TEST_SUITE_DQP
	default 1 if TB_TEST_SUITE_RECV_QOS1
	default 0
	range 0 1
	help
	  Quality of Service to use for publishing and subscribing to topics.
	  Notes:
	  	- Use QoS 0 when passing DQP test suite
	  	- QoS 2 is not supported by ThingsBoard MQTT broker

config TB_EXPONENTIAL_BACKOFF
	bool "Enable exponential backoff"
	default n if TB_TEST_SUITE_DQP || TB_TEST_SUITE_RECV_QOS1
	default y
	help
	  Enable ThingsBoard exponential backoff for reconnecting to ThingsBoard MQTT broker.
endmenu

source "Kconfig.zephyr"
